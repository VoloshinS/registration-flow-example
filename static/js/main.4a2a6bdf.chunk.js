(this["webpackJsonpmemory-cards"]=this["webpackJsonpmemory-cards"]||[]).push([[0],{138:function(e,t,a){e.exports=a(155)},142:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(15),o=a.n(c),s=(a(142),a(20)),u=a(30),i=a(38),l=a(129),d=a(119),b=a(115),m=a(14),p=a(56),f=a(60),O=a(28),j=a(22),E={loading:!1,data:null,error:null},h=Object(O.createAsyncAction)("SIGN_IN_REQUEST","SIGN_IN_SUCCESS","SIGN_IN_FAILURE")(),g=Object(O.createAsyncAction)("SIGN_OUT_REQUEST","SIGN_OUT_SUCCESS","SIGN_OUT_FAILURE")(),v=Object(O.createReducer)(E).handleAction(h.request,(function(e){return Object(m.a)({},e,{data:!1,loading:!0,error:null})})).handleAction(h.success,(function(e){return Object(m.a)({},e,{data:!0,loading:!1,error:null})})).handleAction(h.failure,(function(e,t){return Object(m.a)({},e,{data:!1,loading:!1,error:t.payload})})).handleAction(g.request,(function(e){return Object(m.a)({},e,{loading:!0,error:null})})).handleAction(g.success,(function(e,t){return Object(m.a)({},e,{data:!1,loading:!1,error:null})})).handleAction(g.failure,(function(e,t){return Object(m.a)({},e,{loading:!1,error:t.payload})})),x=Object(j.get)("auth"),w=Object(j.flow)(x,Object(j.get)("data")),S=Object(j.flow)(x,Object(j.get)("error")),y=(Object(j.flow)(x,Object(j.get)("loading")),Object(f.a)({},"auth",v)),k=Object(O.createAsyncAction)("ADD_USER_REQUEST","ADD_USER_SUCCESS","ADD_USER_FAILURE")(),A=Object(O.createAsyncAction)("UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_FAILURE")(),U=Object(O.createAsyncAction)("DELETE_USER_REQUEST","DELETE_USER_SUCCESS","DELETE_USER_FAILURE")(),C=Object(O.createReducer)(E).handleAction(k.success,(function(e,t){return Object(m.a)({},e,{data:t.payload,loading:!1,error:null})})).handleAction(k.failure,(function(e,t){return Object(m.a)({},e,{data:null,loading:!1,error:t.payload})})).handleAction(A.request,(function(e){return Object(m.a)({},e,{loading:!0,error:null})})).handleAction(A.success,(function(e,t){return Object(m.a)({},e,{data:t.payload,loading:!1,error:null})})).handleAction(A.failure,(function(e,t){return Object(m.a)({},e,{loading:!1,error:t.payload})})).handleAction(U.request,(function(e){return Object(m.a)({},e,{loading:!0,error:null})})).handleAction(U.success,(function(e){return Object(m.a)({},e,{data:null,loading:!1,error:null})})).handleAction(U.failure,(function(e,t){return Object(m.a)({},e,{loading:!1,error:t.payload})})),N=Object(j.get)("user"),T=Object(j.flow)(N,Object(j.get)("data")),_=Object(j.flow)(N,Object(j.get)("error")),R=(Object(j.flow)(N,Object(j.get)("loading")),Object(f.a)({},"user",C)),q=function(e){return Object(i.combineReducers)(Object(m.a)({router:Object(p.b)(e)},y,{},R))},I=a(11),L=a.n(I),D=a(8),F=a(26),G=a(76),P=a(81),W=a(107),Q=a.n(W),J=Object(j.omit)(["password"]),M=function(){var e=localStorage.getItem("users");return e?JSON.parse(e):[]},z=function(e){localStorage.setItem("users",JSON.stringify(e))},B=function(e){var t=M();if(Object(P.find)(t,{username:e.username}))throw new Error("Already exist");var a=Object(m.a)({},e,{password:Q()(e.password)});return z([].concat(Object(G.a)(t),[a])),J(a)},V=function(e){var t=e.username,a=e.description,r=M(),n=Object(P.findIndex)(r,{username:t}),c=Object(m.a)({},r[n],{username:t,description:a});return z([].concat(Object(G.a)(r.slice(0,n)),[Object(m.a)({},r[n],{username:t,description:a})],Object(G.a)(r.slice(n+1)))),J(c)},Y=function(e){var t=M(),a=Object(P.findIndex)(t,{username:e});return z([].concat(Object(G.a)(t.slice(0,a)),Object(G.a)(t.slice(a+1)))),e},H=function(e){var t=M(),a=Object(P.find)(t,{username:e.username});if(!a)throw new Error("User does not exist");if(a.password!==Q()(e.password))throw new Error("Wrong password");return J(a)},K=L.a.mark(te),X=L.a.mark(ae),Z=L.a.mark(re),$=L.a.mark(ne),ee=L.a.mark(ce);function te(e){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.b)(H,e.payload);case 3:return t=a.sent,a.next=6,Object(D.d)(h.success());case 6:return a.next=8,Object(D.d)(k.success(t));case 8:return a.next=10,Object(D.d)(Object(F.d)("/"));case 10:a.next=17;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(D.d)(h.failure(a.t0.message));case 16:return a.abrupt("return",a.t0);case 17:case"end":return a.stop()}}),K,null,[[0,12]])}function ae(){var e,t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=0;case 1:if(!(e<3)){a.next=12;break}return a.next=5,Object(D.e)(h.request);case 5:return t=a.sent,a.next=8,Object(D.b)(te,t);case 8:a.sent instanceof Error&&e++,a.next=17;break;case 12:return a.next=14,Object(D.d)(h.failure("You are blocked for 1 minute!"));case 14:return a.next=16,Object(D.c)(6e4,0);case 16:e=a.sent;case 17:a.next=1;break;case 19:case"end":return a.stop()}}),X)}function re(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.d)(g.success());case 3:return e.next=5,Object(D.d)(U.success());case 5:return e.next=7,Object(D.d)(Object(F.d)("/login"));case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(D.d)(g.failure(e.t0.message));case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),Z,null,[[0,9]])}function ne(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(g.request),re);case 2:case"end":return e.stop()}}),$)}function ce(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([ae(),ne()]);case 2:case"end":return e.stop()}}),ee)}var oe=L.a.mark(me),se=L.a.mark(pe),ue=L.a.mark(fe),ie=L.a.mark(Oe),le=L.a.mark(je),de=L.a.mark(Ee),be=L.a.mark(he);function me(e){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.b)(B,e.payload);case 3:return t=a.sent,a.next=6,Object(D.d)(k.success(t));case 6:return a.next=8,Object(D.d)(h.success());case 8:return a.next=10,Object(D.d)(Object(F.d)("/"));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(D.d)(k.failure(a.t0.message));case 16:case"end":return a.stop()}}),oe,null,[[0,12]])}function pe(e){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.b)(V,e.payload);case 3:return t=a.sent,a.next=6,Object(D.d)(A.success(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(D.d)(A.failure(a.t0.message));case 12:case"end":return a.stop()}}),se,null,[[0,8]])}function fe(e){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D.b)(Y,e.payload);case 3:return t.next=5,Object(D.d)(U.success());case 5:return t.next=7,Object(D.d)(g.success());case 7:return t.next=9,Object(D.d)(Object(F.d)("/login"));case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,Object(D.d)(U.failure(t.t0.message));case 15:case"end":return t.stop()}}),ue,null,[[0,11]])}function Oe(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(k.request),me);case 2:case"end":return e.stop()}}),ie)}function je(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(A.request),pe);case 2:case"end":return e.stop()}}),le)}function Ee(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(U.request),fe);case 2:case"end":return e.stop()}}),de)}function he(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Oe(),je(),Ee()]);case 2:case"end":return e.stop()}}),be)}var ge=L.a.mark(ve);function ve(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([ce(),he()]);case 2:case"end":return e.stop()}}),ge)}var xe=Object(u.b)(),we=Object(l.a)();var Se=a(35),ye=a(121),ke=a(199),Ae=a(188),Ue=a(189),Ce=Object(ye.a)((function(){return Object(ke.a)({container:{flexGrow:1,overflow:"auto"}})})),Ne=function(e){var t=e.children,a=Ce();return n.a.createElement(r.Fragment,null,n.a.createElement(Ae.a,null),n.a.createElement("div",{className:a.container},n.a.createElement(Ue.a,{maxWidth:"md"},t)))},Te=a(192),_e=a(193),Re=a(156),qe=a(196),Ie=a(191),Le=a(85),De=function(e){var t=e.to,a=e.children,r=e.className;return n.a.createElement(Ie.a,{component:Le.a,to:t,className:r},a)},Fe=Object(ye.a)((function(e){return Object(ke.a)({root:{flexShrink:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:e.palette.background.default}})})),Ge=function(e){var t=e.title,a=e.isAuthorized,r=e.onLogout,c=Fe();return n.a.createElement("div",{className:c.root},n.a.createElement(Te.a,{position:"static"},n.a.createElement(_e.a,null,n.a.createElement(Re.a,{variant:"h6",className:c.title},n.a.createElement(De,{to:"/",className:c.link},t)),a?n.a.createElement(qe.a,{color:"inherit",onClick:r},"Logout"):n.a.createElement(n.a.Fragment,null,n.a.createElement(qe.a,{color:"inherit"},n.a.createElement(De,{to:"/registration",className:c.link},"Register")),n.a.createElement(qe.a,{color:"inherit"},n.a.createElement(De,{to:"/login",className:c.link},"Login"))))))},Pe=(a(194),Object(ye.a)((function(){return Object(ke.a)({root:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})})),a(127)),We=a(197),Qe=a(195),Je=a(124),Me=a.n(Je),ze=Object(ye.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.light},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorMessage:{color:e.palette.error.main}}})),Be=function(e){var t=e.title,a=e.buttonLabel,r=e.onSubmit,c=e.validationSchema,o=e.error,s=e.icon,u=ze(),i=Object(Pe.a)({initialValues:{username:"",password:""},validationSchema:c,onSubmit:r});return n.a.createElement(Ue.a,{component:"main",maxWidth:"xs"},n.a.createElement(Ae.a,null),n.a.createElement("div",{className:u.paper},n.a.createElement(We.a,{className:u.avatar},s||n.a.createElement(Me.a,null)),n.a.createElement(Re.a,{component:"h1",variant:"h5"},t),n.a.createElement("form",{className:u.form,noValidate:!0,onSubmit:i.handleSubmit},n.a.createElement(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",name:"username",label:"Username",error:!!i.errors.username,helperText:i.errors.username,autoComplete:"username",onChange:i.handleChange,value:i.values.username,autoFocus:!0}),n.a.createElement(Qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",type:"password",name:"password",label:"Password",error:!!i.errors.password,helperText:i.errors.password,onChange:i.handleChange,value:i.values.password,autoComplete:"current-password"}),o&&n.a.createElement("div",{className:u.errorMessage},o),n.a.createElement(qe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:u.submit},a))))},Ve=a(130),Ye=function(e){var t=e.children,a=Object(Ve.a)(e,["children"]),c=Object(s.e)(w),o=Object(r.useCallback)((function(e){var a=e.location;return c?t:n.a.createElement(Se.a,{to:{pathname:"/login",state:{from:a}}})}),[t,c]);return n.a.createElement(Se.b,Object.assign({},a,{render:o}))},He=a(126),Ke=a.n(He),Xe=a(54),Ze=Xe.a().shape({username:Xe.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Xe.b().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/\S/,"Password can only contain non whitespace character.")}),$e=function(){var e=Object(s.d)(),t=Object(s.e)(_),a=Object(r.useCallback)((function(t){e(k.request(t))}),[e]);return n.a.createElement(Be,{icon:n.a.createElement(Ke.a,null),title:"Registration",buttonLabel:"Register",onSubmit:a,validationSchema:Ze,error:t})},et=Xe.a().shape({username:Xe.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Xe.b().required("No password provided.")}),tt=function(){var e=Object(s.d)(),t=Object(s.e)(S),a=Object(r.useCallback)((function(t){e(h.request(t))}),[e]);return n.a.createElement(Be,{title:"Sign In",buttonLabel:"Login",onSubmit:a,error:t,validationSchema:et})},at=a(128),rt=Object(ye.a)((function(e){return Object(ke.a)({container:{marginTop:e.spacing(8)},field:{marginTop:e.spacing(2)},buttonContainer:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(2)}})})),nt=function(){var e=Object(s.d)(),t=Object(s.e)(T),a=Object(r.useState)(t.description),c=Object(at.a)(a,2),o=c[0],u=c[1],i=rt(),l=Object(r.useCallback)((function(a){a.preventDefault(),e(A.request(Object(m.a)({},t,{description:o})))}),[e,t,o]),d=Object(r.useCallback)((function(e){u(e.target.value)}),[]),b=Object(r.useCallback)((function(){e(U.request(t.username))}),[t,e]);return n.a.createElement("div",{className:i.container},n.a.createElement(Ae.a,null),n.a.createElement(Re.a,{variant:"h4"},t.username),n.a.createElement("form",{onSubmit:l},n.a.createElement(Qe.a,{className:i.field,label:"Description",id:"description",fullWidth:!0,multiline:!0,autoFocus:!0,onChange:d,value:o}),n.a.createElement("div",{className:i.buttonContainer},n.a.createElement(qe.a,{type:"button",variant:"contained",color:"secondary",onClick:b},"Delete Profile"),n.a.createElement(qe.a,{type:"submit",variant:"contained",color:"primary"},"Update Profile"))))},ct=function(e){var t=e.appName,a=Object(s.d)(),c=Object(s.e)(w),o=Object(r.useCallback)((function(){a(g.request())}),[a]);return n.a.createElement(p.a,{history:xe},n.a.createElement(Ge,{title:t,isAuthorized:c,onLogout:o}),n.a.createElement(Ne,null,n.a.createElement(Se.d,null,n.a.createElement(Se.b,{path:"/registration"},n.a.createElement($e,null)),n.a.createElement(Se.b,{path:"/login"},n.a.createElement(tt,null)),n.a.createElement(Ye,{path:"/"},n.a.createElement(nt,null)))))},ot=function(e){var t=[we,Object(b.a)(xe)],a=i.applyMiddleware.apply(void 0,t),r=Object(d.composeWithDevTools)(a),n=q(xe),c=Object(i.createStore)(n,e,r);return we.run(ve),c}();o.a.render(n.a.createElement(s.a,{store:ot},n.a.createElement(ct,{appName:"Test App"})),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.4a2a6bdf.chunk.js.map