(this["webpackJsonpmemory-cards"]=this["webpackJsonpmemory-cards"]||[]).push([[0],{137:function(e,t,a){e.exports=a(154)},141:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),o=a.n(c),s=(a(141),a(16)),i=a(30),u=a(38),l=a(128),m=a(120),d=a(116),b=a(18),p=a(56),f=a(60),O=a(28),j=a(22),h={loading:!1,data:null,error:null},E=Object(O.createAsyncAction)("SIGN_IN_REQUEST","SIGN_IN_SUCCESS","SIGN_IN_FAILURE")(),g=Object(O.createAsyncAction)("SIGN_OUT_REQUEST","SIGN_OUT_SUCCESS","SIGN_OUT_FAILURE")(),v=Object(O.createReducer)(h).handleAction(E.request,(function(e){return Object(b.a)({},e,{data:!1,loading:!0,error:null})})).handleAction(E.success,(function(e){return Object(b.a)({},e,{data:!0,loading:!1,error:null})})).handleAction(E.failure,(function(e,t){return Object(b.a)({},e,{data:!1,loading:!1,error:t.payload})})).handleAction(g.request,(function(e){return Object(b.a)({},e,{loading:!0,error:null})})).handleAction(g.success,(function(e,t){return Object(b.a)({},e,{data:!1,loading:!1,error:null})})).handleAction(g.failure,(function(e,t){return Object(b.a)({},e,{loading:!1,error:t.payload})})),x=Object(j.get)("auth"),w=Object(j.flow)(x,Object(j.get)("data")),S=Object(j.flow)(x,Object(j.get)("error")),y=(Object(j.flow)(x,Object(j.get)("loading")),Object(f.a)({},"auth",v)),N=Object(O.createAsyncAction)("ADD_USER_REQUEST","ADD_USER_SUCCESS","ADD_USER_FAILURE")(),k=Object(O.createAsyncAction)("UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_FAILURE")(),A=Object(O.createAsyncAction)("DELETE_USER_REQUEST","DELETE_USER_SUCCESS","DELETE_USER_FAILURE")(),C=Object(O.createReducer)(h).handleAction(N.success,(function(e,t){return Object(b.a)({},e,{data:t.payload,loading:!1,error:null})})).handleAction(N.failure,(function(e,t){return Object(b.a)({},e,{data:null,loading:!1,error:t.payload})})).handleAction(k.request,(function(e){return Object(b.a)({},e,{loading:!0,error:null})})).handleAction(k.success,(function(e,t){return Object(b.a)({},e,{data:t.payload,loading:!1,error:null})})).handleAction(k.failure,(function(e,t){return Object(b.a)({},e,{loading:!1,error:t.payload})})).handleAction(A.request,(function(e){return Object(b.a)({},e,{loading:!0,error:null})})).handleAction(A.success,(function(e){return Object(b.a)({},e,{data:null,loading:!1,error:null})})).handleAction(A.failure,(function(e,t){return Object(b.a)({},e,{loading:!1,error:t.payload})})),T=Object(j.get)("user"),U=Object(j.flow)(T,Object(j.get)("data")),_=Object(j.flow)(T,Object(j.get)("error")),R=(Object(j.flow)(T,Object(j.get)("loading")),Object(f.a)({},"user",C)),q=function(e){return Object(u.combineReducers)(Object(b.a)({router:Object(p.b)(e)},y,{},R))},I=a(11),L=a.n(I),D=a(8),P=a(26),W=a(77),F=a(82),G=a(108),V=a.n(G),Q=Object(j.omit)(["password"]),J=function(){var e=localStorage.getItem("users");return e?JSON.parse(e):[]},z=function(e){localStorage.setItem("users",JSON.stringify(e))},M=function(e){var t=J();if(Object(F.find)(t,{username:e.username}))throw new Error("Already exist");var a=Object(b.a)({},e,{password:V()(e.password)});return z([].concat(Object(W.a)(t),[a])),Q(a)},B=function(e){var t=J(),a=Object(F.findIndex)(t,{username:e.username}),r=Object(b.a)({},t[a],{},e);return z([].concat(Object(W.a)(t.slice(0,a)),[r],Object(W.a)(t.slice(a+1)))),Q(r)},Y=function(e){var t=J(),a=Object(F.findIndex)(t,{username:e});return z([].concat(Object(W.a)(t.slice(0,a)),Object(W.a)(t.slice(a+1)))),e},H=function(e){var t=J(),a=Object(F.find)(t,{username:e.username});if(!a)throw new Error("User does not exist");if(a.password!==V()(e.password))throw new Error("Wrong password");return Q(a)},K=L.a.mark(te),X=L.a.mark(ae),Z=L.a.mark(re),$=L.a.mark(ne),ee=L.a.mark(ce);function te(e){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.b)(H,e.payload);case 3:return t=a.sent,a.next=6,Object(D.d)(E.success());case 6:return a.next=8,Object(D.d)(N.success(t));case 8:return a.next=10,Object(D.d)(Object(P.d)("/"));case 10:a.next=17;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(D.d)(E.failure(a.t0.message));case 16:return a.abrupt("return",a.t0);case 17:case"end":return a.stop()}}),K,null,[[0,12]])}function ae(){var e,t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=0;case 1:if(!(e<3)){a.next=12;break}return a.next=5,Object(D.e)(E.request);case 5:return t=a.sent,a.next=8,Object(D.b)(te,t);case 8:a.sent instanceof Error&&e++,a.next=17;break;case 12:return a.next=14,Object(D.d)(E.failure("You are blocked for 1 minute!"));case 14:return a.next=16,Object(D.c)(6e4,0);case 16:e=a.sent;case 17:a.next=1;break;case 19:case"end":return a.stop()}}),X)}function re(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.d)(g.success());case 3:return e.next=5,Object(D.d)(A.success());case 5:return e.next=7,Object(D.d)(Object(P.d)("/login"));case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(D.d)(g.failure(e.t0.message));case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),Z,null,[[0,9]])}function ne(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(g.request),re);case 2:case"end":return e.stop()}}),$)}function ce(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([ae(),ne()]);case 2:case"end":return e.stop()}}),ee)}var oe=L.a.mark(be),se=L.a.mark(pe),ie=L.a.mark(fe),ue=L.a.mark(Oe),le=L.a.mark(je),me=L.a.mark(he),de=L.a.mark(Ee);function be(e){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.b)(M,e.payload);case 3:return t=a.sent,a.next=6,Object(D.d)(N.success(t));case 6:return a.next=8,Object(D.d)(E.success());case 8:return a.next=10,Object(D.d)(Object(P.d)("/"));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(D.d)(N.failure(a.t0.message));case 16:case"end":return a.stop()}}),oe,null,[[0,12]])}function pe(e){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(D.b)(B,e.payload);case 3:return t=a.sent,a.next=6,Object(D.d)(k.success(t));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(D.d)(k.failure(a.t0.message));case 12:case"end":return a.stop()}}),se,null,[[0,8]])}function fe(e){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D.b)(Y,e.payload);case 3:return t.next=5,Object(D.d)(A.success());case 5:return t.next=7,Object(D.d)(g.success());case 7:return t.next=9,Object(D.d)(Object(P.d)("/login"));case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,Object(D.d)(A.failure(t.t0.message));case 15:case"end":return t.stop()}}),ie,null,[[0,11]])}function Oe(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(N.request),be);case 2:case"end":return e.stop()}}),ue)}function je(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(k.request),pe);case 2:case"end":return e.stop()}}),le)}function he(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.f)(Object(O.getType)(A.request),fe);case 2:case"end":return e.stop()}}),me)}function Ee(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Oe(),je(),he()]);case 2:case"end":return e.stop()}}),de)}var ge=L.a.mark(ve);function ve(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([ce(),Ee()]);case 2:case"end":return e.stop()}}),ge)}var xe=Object(i.b)(),we=Object(l.a)();var Se=a(35),ye=a(122),Ne=a(201),ke=a(189),Ae=a(190),Ce=Object(ye.a)((function(){return Object(Ne.a)({container:{flexGrow:1,overflow:"auto"}})})),Te=function(e){var t=e.children,a=Ce();return n.a.createElement(r.Fragment,null,n.a.createElement(ke.a,null),n.a.createElement("div",{className:a.container},n.a.createElement(Ae.a,{maxWidth:"md"},t)))},Ue=a(193),_e=a(194),Re=a(155),qe=a(198),Ie=a(192),Le=a(86),De=function(e){var t=e.to,a=e.children,r=e.className;return n.a.createElement(Ie.a,{component:Le.a,to:t,className:r},a)},Pe=Object(ye.a)((function(e){return Object(Ne.a)({root:{flexShrink:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:e.palette.background.default}})})),We=function(e){var t=e.title,a=e.isAuthorized,r=e.onLogout,c=Pe();return n.a.createElement("div",{className:c.root},n.a.createElement(Ue.a,{position:"static"},n.a.createElement(_e.a,null,n.a.createElement(Re.a,{variant:"h6",className:c.title},n.a.createElement(De,{to:"/",className:c.link},t)),a?n.a.createElement(qe.a,{color:"inherit",onClick:r},"Logout"):n.a.createElement(n.a.Fragment,null,n.a.createElement(qe.a,{color:"inherit"},n.a.createElement(De,{to:"/registration",className:c.link},"Register")),n.a.createElement(qe.a,{color:"inherit"},n.a.createElement(De,{to:"/login",className:c.link},"Login"))))))},Fe=(a(195),Object(ye.a)((function(){return Object(Ne.a)({root:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})})),a(199)),Ge=a(197),Ve=a(123),Qe=a.n(Ve),Je=Object(ye.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.light},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorMessage:{color:e.palette.error.main}}})),ze=function(e){var t=e.title,a=e.buttonLabel,r=e.formik,c=e.error,o=e.icon,s=Je();return n.a.createElement(Ae.a,{component:"main",maxWidth:"xs"},n.a.createElement(ke.a,null),n.a.createElement("div",{className:s.paper},n.a.createElement(Fe.a,{className:s.avatar},o||n.a.createElement(Qe.a,null)),n.a.createElement(Re.a,{component:"h1",variant:"h5"},t),n.a.createElement("form",{className:s.form,noValidate:!0,onSubmit:r.handleSubmit},n.a.createElement(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",name:"username",label:"Username",error:!!r.errors.username,helperText:r.errors.username,autoComplete:"username",onChange:r.handleChange,value:r.values.username,autoFocus:!0}),n.a.createElement(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",type:"password",name:"password",label:"Password",error:!!r.errors.password,helperText:r.errors.password,onChange:r.handleChange,value:r.values.password,autoComplete:"current-password"}),c&&n.a.createElement("div",{className:s.errorMessage},c),n.a.createElement(qe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit},a))))},Me=a(129),Be=function(e){var t=e.children,a=Object(Me.a)(e,["children"]),c=Object(s.e)(w),o=Object(r.useCallback)((function(e){var a=e.location;return c?t:n.a.createElement(Se.a,{to:{pathname:"/login",state:{from:a}}})}),[t,c]);return n.a.createElement(Se.b,Object.assign({},a,{render:o}))},Ye=a(127),He=a.n(Ye),Ke=a(72),Xe=a(54),Ze=Xe.a().shape({username:Xe.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Xe.b().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/\S/,"Password can only contain non whitespace character.")});var $e=function(){var e=Object(s.e)(_),t=function(){var e=Object(s.d)(),t=Object(r.useCallback)((function(t){e(N.request(t))}),[e]);return Object(Ke.a)({initialValues:{username:"",password:""},onSubmit:t,validationSchema:Ze})}();return n.a.createElement(ze,{icon:n.a.createElement(He.a,null),title:"Registration",buttonLabel:"Register",formik:t,error:e})},et=Xe.a().shape({username:Xe.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Xe.b().required("No password provided.")});var tt=function(){var e=Object(s.e)(S),t=function(){var e=Object(s.d)(),t=Object(r.useCallback)((function(t){e(E.request(t))}),[e]);return Object(Ke.a)({initialValues:{username:"",password:""},onSubmit:t,validationSchema:et})}();return n.a.createElement(ze,{title:"Sign In",buttonLabel:"Login",formik:t,error:e})},at=a(196);var rt=Object(ye.a)((function(e){return Object(Ne.a)({container:{marginTop:e.spacing(8)},field:{marginTop:e.spacing(2)},buttonContainer:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(2)}})})),nt=function(){var e=rt(),t=Object(s.d)(),a=Object(s.e)(U),c=function(e){var t=e.initialValues,a=Object(s.d)(),n=Object(r.useCallback)((function(e){a(k.request(e))}),[a]);return Object(Ke.a)({initialValues:t,onSubmit:n,enableReinitialize:!0})}({initialValues:a}),o=Object(r.useCallback)((function(){t(A.request(a.username))}),[a,t]);return n.a.createElement("div",{className:e.container},n.a.createElement(ke.a,null),n.a.createElement(Re.a,{variant:"h4"},'"',a.username,'" Profile Page'),n.a.createElement("form",{onSubmit:c.handleSubmit},n.a.createElement(at.a,{container:!0,spacing:3},n.a.createElement(at.a,{item:!0,xs:6},n.a.createElement(Ge.a,{margin:"normal",fullWidth:!0,id:"firstName",name:"firstName",label:"First Name",error:!!c.errors.firstName,helperText:c.errors.firstName,autoComplete:"username",onChange:c.handleChange,value:c.values.firstName})),n.a.createElement(at.a,{item:!0,xs:6},n.a.createElement(Ge.a,{margin:"normal",fullWidth:!0,id:"lastName",name:"lastName",label:"Last Name",error:!!c.errors.lastName,helperText:c.errors.lastName,autoComplete:"username",onChange:c.handleChange,value:c.values.lastName}))),n.a.createElement(Ge.a,{className:e.field,label:"Description",id:"description",fullWidth:!0,multiline:!0,rows:5,onChange:c.handleChange,value:c.values.description}),n.a.createElement("div",{className:e.buttonContainer},n.a.createElement(qe.a,{type:"button",variant:"contained",color:"secondary",onClick:o},"Delete Profile"),n.a.createElement(qe.a,{type:"submit",variant:"contained",color:"primary",disabled:!c.dirty},"Update Profile"))))},ct=function(e){var t=e.appName,a=Object(s.d)(),c=Object(s.e)(w),o=Object(r.useCallback)((function(){a(g.request())}),[a]);return n.a.createElement(p.a,{history:xe},n.a.createElement(We,{title:t,isAuthorized:c,onLogout:o}),n.a.createElement(Te,null,n.a.createElement(Se.d,null,n.a.createElement(Se.b,{path:"/registration"},n.a.createElement($e,null)),n.a.createElement(Se.b,{path:"/login"},n.a.createElement(tt,null)),n.a.createElement(Be,{path:"/"},n.a.createElement(nt,null)))))},ot=function(e){var t=[we,Object(d.a)(xe)],a=u.applyMiddleware.apply(void 0,t),r=Object(m.composeWithDevTools)(a),n=q(xe),c=Object(u.createStore)(n,e,r);return we.run(ve),c}();o.a.render(n.a.createElement(s.a,{store:ot},n.a.createElement(ct,{appName:"Test App"})),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.ba9bd219.chunk.js.map