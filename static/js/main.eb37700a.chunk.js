(this["webpackJsonpmemory-cards"]=this["webpackJsonpmemory-cards"]||[]).push([[0],{137:function(e,t,a){e.exports=a(154)},141:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),o=a.n(c),s=(a(141),a(19)),i=a(28),u=a(36),l=a(128),m=a(118),d=a(114),p=a(27),b=a(59),f=a(85),O="ADD_USER",j="ADD_USER_SUCCESS",h="ADD_USER_FAILURE",v="SIGN_IN_USER",E="SIGN_IN_USER_SUCCESS",g="SIGN_IN_USER_FAILURE",w="SIGN_OUT_USER",x="DELETE_USER",y="UPDATE_USER",S={user:null,isAuthorized:!1};var k=a(14),N=a.n(k),C=a(16),R=a(24);function U(e){return{type:j,payload:e}}function I(e){return{type:E,payload:e}}function _(e){return{type:g,payload:e}}var T=a(75),A=a(58),D=a(104),L=a.n(D),q=function(){var e=localStorage.getItem("users");return e?JSON.parse(e):[]},W=function(e){localStorage.setItem("users",JSON.stringify(e))},z=function(e){var t=q();if(Object(A.find)(t,{username:e.username}))throw new Error("Already exist");return W([].concat(Object(T.a)(t),[Object(p.a)({},e,{password:L()(e.password)})])),Object(A.omit)(e,["password"])},F=function(e){var t=q(),a=Object(A.find)(t,{username:e.username});if(!a)throw new Error("User does not exist");if(a.password!==L()(e.password))throw new Error("Wrong password");return Object(A.omit)(a,["password"])},G=function(e){var t=q(),a=Object(A.findIndex)(t,{username:e});return W([].concat(Object(T.a)(t.slice(0,a)),Object(T.a)(t.slice(a+1)))),e},P=function(e){var t=e.username,a=e.description,r=q(),n=Object(A.findIndex)(r,{username:t});return W([].concat(Object(T.a)(r.slice(0,n)),[Object(p.a)({},r[n],{username:t,description:a})],Object(T.a)(r.slice(n+1)))),t},J=N.a.mark(Z),M=N.a.mark($),B=N.a.mark(ee),V=N.a.mark(te),Y=N.a.mark(ae),H=N.a.mark(re),K=N.a.mark(ne),Q=N.a.mark(ce),X=N.a.mark(oe);function Z(e){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)(z,e.payload);case 3:return t=a.sent,a.next=6,Object(C.d)(U(t));case 6:return a.next=8,Object(C.d)(Object(R.d)("/"));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(C.d)((r=a.t0.message,{type:h,payload:r}));case 14:case"end":return a.stop()}var r}),J,null,[[0,10]])}function $(e){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)(F,e.payload);case 3:return t=a.sent,a.next=6,Object(C.d)(I(t));case 6:return a.next=8,Object(C.d)(Object(R.d)("/"));case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(C.d)(_(a.t0.message));case 14:return a.abrupt("return",a.t0);case 15:case"end":return a.stop()}}),M,null,[[0,10]])}function ee(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(G,e.payload);case 2:case"end":return t.stop()}}),B)}function te(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(P,e.payload);case 2:case"end":return t.stop()}}),V)}function ae(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(O,Z);case 2:case"end":return e.stop()}}),Y)}function re(){var e,t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=0;case 1:if(!(e<3)){a.next=12;break}return a.next=5,Object(C.e)(v);case 5:return t=a.sent,a.next=8,Object(C.b)($,t);case 8:a.sent instanceof Error&&e++,a.next=17;break;case 12:return a.next=14,Object(C.d)(_("You are blocked for 1 minute!"));case 14:return a.next=16,Object(C.c)(6e4,0);case 16:e=a.sent;case 17:a.next=1;break;case 19:case"end":return a.stop()}}),H)}function ne(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(x,ee);case 2:case"end":return e.stop()}}),K)}function ce(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.f)(y,te);case 2:case"end":return e.stop()}}),Q)}function oe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([ae(),re(),ne(),ce()]);case 2:case"end":return e.stop()}}),X)}var se=a(53),ie=Object(se.get)("userState"),ue=Object(se.flow)(ie,Object(se.get)("isAuthorized")),le=Object(se.flow)(ie,Object(se.get)("user")),me=Object(se.flow)(ie,Object(se.get)("error")),de=Object(f.a)({},"userState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case O:return Object(p.a)({},e);case E:case j:return Object(p.a)({},e,{user:t.payload,isAuthorized:!0,error:null});case g:case h:return Object(p.a)({},e,{isAuthorized:!1,user:null,error:t.payload});case w:case x:return Object(p.a)({},e,{isAuthorized:!1,user:null});case y:return Object(p.a)({},e,{user:Object(p.a)({},e.user,{},t.payload)});default:return e}})),pe=function(e){return Object(u.combineReducers)(Object(p.a)({router:Object(b.b)(e)},de))},be=N.a.mark(fe);function fe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([oe()]);case 2:case"end":return e.stop()}}),be)}var Oe=Object(i.b)(),je=Object(l.a)();var he=a(33),ve=a(120),Ee=a(198),ge=a(187),we=a(188),xe=Object(ve.a)((function(){return Object(Ee.a)({container:{flexGrow:1,overflow:"auto"}})})),ye=function(e){var t=e.children,a=xe();return n.a.createElement(r.Fragment,null,n.a.createElement(ge.a,null),n.a.createElement("div",{className:a.container},n.a.createElement(we.a,{maxWidth:"md"},t)))},Se=a(191),ke=a(192),Ne=a(155),Ce=a(195),Re=a(190),Ue=a(83),Ie=function(e){var t=e.to,a=e.children,r=e.className;return n.a.createElement(Re.a,{component:Ue.a,to:t,className:r},a)},_e=Object(ve.a)((function(e){return Object(Ee.a)({root:{flexShrink:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:e.palette.background.default}})})),Te=function(e){var t=e.title,a=e.isAuthorized,r=e.onLogout,c=_e();return n.a.createElement("div",{className:c.root},n.a.createElement(Se.a,{position:"static"},n.a.createElement(ke.a,null,n.a.createElement(Ne.a,{variant:"h6",className:c.title},n.a.createElement(Ie,{to:"/",className:c.link},t)),a?n.a.createElement(Ce.a,{color:"inherit",onClick:r},"Logout"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ce.a,{color:"inherit"},n.a.createElement(Ie,{to:"/registration",className:c.link},"Register")),n.a.createElement(Ce.a,{color:"inherit"},n.a.createElement(Ie,{to:"/login",className:c.link},"Login"))))))},Ae=(a(193),Object(ve.a)((function(){return Object(Ee.a)({root:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})})),a(126)),De=a(197),Le=a(194),qe=a(123),We=a.n(qe),ze=Object(ve.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.light},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorMessage:{color:e.palette.error.main}}})),Fe=function(e){var t=e.title,a=e.buttonLabel,r=e.onSubmit,c=e.validationSchema,o=e.error,s=e.icon,i=ze(),u=Object(Ae.a)({initialValues:{username:"",password:""},validationSchema:c,onSubmit:r});return n.a.createElement(we.a,{component:"main",maxWidth:"xs"},n.a.createElement(ge.a,null),n.a.createElement("div",{className:i.paper},n.a.createElement(De.a,{className:i.avatar},s||n.a.createElement(We.a,null)),n.a.createElement(Ne.a,{component:"h1",variant:"h5"},t),n.a.createElement("form",{className:i.form,noValidate:!0,onSubmit:u.handleSubmit},n.a.createElement(Le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",name:"username",label:"Username",error:!!u.errors.username,helperText:u.errors.username,autoComplete:"username",onChange:u.handleChange,value:u.values.username,autoFocus:!0}),n.a.createElement(Le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",type:"password",name:"password",label:"Password",error:!!u.errors.password,helperText:u.errors.password,onChange:u.handleChange,value:u.values.password,autoComplete:"current-password"}),o&&n.a.createElement("div",{className:i.errorMessage},o),n.a.createElement(Ce.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},a))))},Ge=a(129),Pe=function(e){var t=e.children,a=Object(Ge.a)(e,["children"]),c=Object(s.e)(ue),o=Object(r.useCallback)((function(e){var a=e.location;return c?t:n.a.createElement(he.a,{to:{pathname:"/login",state:{from:a}}})}),[t,c]);return n.a.createElement(he.b,Object.assign({},a,{render:o}))},Je=a(125),Me=a.n(Je),Be=a(52),Ve=Be.a().shape({username:Be.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Be.b().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/\S/,"Password can only contain non whitespace character.")}),Ye=function(){var e=Object(s.d)(),t=Object(s.e)(me),a=Object(r.useCallback)((function(t){e(function(e){return{type:O,payload:e}}(t))}),[e]);return n.a.createElement(Fe,{icon:n.a.createElement(Me.a,null),title:"Registration",buttonLabel:"Register",onSubmit:a,validationSchema:Ve,error:t})},He=Be.a().shape({username:Be.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Be.b().required("No password provided.")}),Ke=function(){var e=Object(s.d)(),t=Object(s.e)(me),a=Object(r.useCallback)((function(t){e(function(e){return{type:v,payload:e}}(t))}),[e]);return n.a.createElement(Fe,{title:"Sign In",buttonLabel:"Login",onSubmit:a,error:t,validationSchema:He})},Qe=a(127),Xe=Object(ve.a)((function(e){return Object(Ee.a)({container:{marginTop:e.spacing(8)},field:{marginTop:e.spacing(2)},buttonContainer:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(2)}})})),Ze=function(){var e=Object(s.d)(),t=Object(s.e)(le),a=Object(r.useState)(t.description),c=Object(Qe.a)(a,2),o=c[0],i=c[1],u=Xe(),l=Object(r.useCallback)((function(a){a.preventDefault(),e(function(e){var t=e.username,a=e.description;return{type:y,payload:{username:t,description:a}}}(Object(p.a)({},t,{description:o})))}),[e,t,o]),m=Object(r.useCallback)((function(e){i(e.target.value)}),[]),d=Object(r.useCallback)((function(){var a;e((a=t.username,{type:x,payload:a}))}),[t,e]);return n.a.createElement("div",{className:u.container},n.a.createElement(ge.a,null),n.a.createElement(Ne.a,{variant:"h4"},t.username),n.a.createElement("form",{onSubmit:l},n.a.createElement(Le.a,{className:u.field,label:"Description",id:"description",fullWidth:!0,multiline:!0,autoFocus:!0,onChange:m,value:o}),n.a.createElement("div",{className:u.buttonContainer},n.a.createElement(Ce.a,{type:"button",variant:"contained",color:"secondary",onClick:d},"Delete Profile"),n.a.createElement(Ce.a,{type:"submit",variant:"contained",color:"primary"},"Update Profile"))))},$e=function(e){var t=e.appName,a=Object(s.d)(),c=Object(s.e)(ue),o=Object(r.useCallback)((function(){a({type:w})}),[a]);return n.a.createElement(b.a,{history:Oe},n.a.createElement(Te,{title:t,isAuthorized:c,onLogout:o}),n.a.createElement(ye,null,n.a.createElement(he.d,null,n.a.createElement(he.b,{path:"/registration"},n.a.createElement(Ye,null)),n.a.createElement(he.b,{path:"/login"},n.a.createElement(Ke,null)),n.a.createElement(Pe,{path:"/"},n.a.createElement(Ze,null)))))},et=function(e){var t=[je,Object(d.a)(Oe)],a=u.applyMiddleware.apply(void 0,t),r=Object(m.composeWithDevTools)(a),n=pe(Oe),c=Object(u.createStore)(n,e,r);return je.run(fe),c}();o.a.render(n.a.createElement(s.a,{store:et},n.a.createElement($e,{appName:"Test App"})),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.eb37700a.chunk.js.map