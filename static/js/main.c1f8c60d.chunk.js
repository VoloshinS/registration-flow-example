(this["webpackJsonpmemory-cards"]=this["webpackJsonpmemory-cards"]||[]).push([[0],{137:function(e,t,a){e.exports=a(154)},141:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),o=a.n(c),s=(a(141),a(18)),i=a(28),u=a(36),l=a(128),m=a(118),p=a(114),d=a(27),b=a(59),f=a(85),O="ADD_USER",j="ADD_USER_SUCCESS",h="ADD_USER_FAILURE",v="SIGN_IN_USER",E="SIGN_IN_USER_SUCCESS",g="SIGN_IN_USER_FAILURE",w="SIGN_OUT_USER",y="DELETE_USER",x="UPDATE_USER",S={user:null,isAuthorized:!1};var k=a(14),N=a.n(k),C=a(20),R=a(24);function U(e){return{type:j,payload:e}}function I(e){return{type:E,payload:e}}var _=a(75),A=a(58),T=a(104),D=a.n(T),L=function(){var e=localStorage.getItem("users");return e?JSON.parse(e):[]},q=function(e){localStorage.setItem("users",JSON.stringify(e))},W=function(e){var t=L();if(Object(A.find)(t,{username:e.username}))throw new Error("Already exist");return q([].concat(Object(_.a)(t),[Object(d.a)({},e,{password:D()(e.password)})])),Object(A.omit)(e,["password"])},z=function(e){var t=L(),a=Object(A.find)(t,{username:e.username});if(!a)throw new Error("User does not exist");if(a.password!==D()(e.password))throw new Error("Wrong password");return Object(A.omit)(a,["password"])},F=function(e){var t=L(),a=Object(A.findIndex)(t,{username:e});return q([].concat(Object(_.a)(t.slice(0,a)),Object(_.a)(t.slice(a+1)))),e},G=function(e){var t=e.username,a=e.description,r=L(),n=Object(A.findIndex)(r,{username:t});return q([].concat(Object(_.a)(r.slice(0,n)),[Object(d.a)({},r[n],{username:t,description:a})],Object(_.a)(r.slice(n+1)))),t},P=N.a.mark(Y),J=N.a.mark(Z),M=N.a.mark($),B=N.a.mark(ee),V=N.a.mark(te),H=N.a.mark(ae),K=N.a.mark(re),Q=N.a.mark(ne),X=N.a.mark(ce);function Y(e){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)(W,e.payload);case 3:return t=a.sent,a.next=6,Object(C.c)(U(t));case 6:return a.next=8,Object(C.c)(Object(R.d)("/"));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(C.c)((r=a.t0.message,{type:h,payload:r}));case 14:case"end":return a.stop()}var r}),P,null,[[0,10]])}function Z(e){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)(z,e.payload);case 3:return t=a.sent,a.next=6,Object(C.c)(I(t));case 6:return a.next=8,Object(C.c)(Object(R.d)("/"));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(C.c)((r=a.t0.message,{type:g,payload:r}));case 14:case"end":return a.stop()}var r}),J,null,[[0,10]])}function $(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(F,e.payload);case 2:case"end":return t.stop()}}),M)}function ee(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(G,e.payload);case 2:case"end":return t.stop()}}),B)}function te(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(O,Y);case 2:case"end":return e.stop()}}),V)}function ae(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(v,Z);case 2:case"end":return e.stop()}}),H)}function re(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(y,$);case 2:case"end":return e.stop()}}),K)}function ne(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(x,ee);case 2:case"end":return e.stop()}}),Q)}function ce(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([te(),ae(),re(),ne()]);case 2:case"end":return e.stop()}}),X)}var oe=a(53),se=Object(oe.get)("userState"),ie=Object(oe.flow)(se,Object(oe.get)("isAuthorized")),ue=Object(oe.flow)(se,Object(oe.get)("user")),le=Object(oe.flow)(se,Object(oe.get)("error")),me=Object(f.a)({},"userState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case O:return Object(d.a)({},e);case E:case j:return Object(d.a)({},e,{user:t.payload,isAuthorized:!0,error:null});case g:case h:return Object(d.a)({},e,{isAuthorized:!1,user:null,error:t.payload});case w:case y:return Object(d.a)({},e,{isAuthorized:!1,user:null});case x:return Object(d.a)({},e,{user:Object(d.a)({},e.user,{},t.payload)});default:return e}})),pe=function(e){return Object(u.combineReducers)(Object(d.a)({router:Object(b.b)(e)},me))},de=N.a.mark(be);function be(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([ce()]);case 2:case"end":return e.stop()}}),de)}var fe=Object(i.b)(),Oe=Object(l.a)();var je=a(33),he=a(120),ve=a(198),Ee=a(187),ge=a(188),we=Object(he.a)((function(){return Object(ve.a)({container:{flexGrow:1,overflow:"auto"}})})),ye=function(e){var t=e.children,a=we();return n.a.createElement(r.Fragment,null,n.a.createElement(Ee.a,null),n.a.createElement("div",{className:a.container},n.a.createElement(ge.a,{maxWidth:"md"},t)))},xe=a(191),Se=a(192),ke=a(155),Ne=a(195),Ce=a(190),Re=a(83),Ue=function(e){var t=e.to,a=e.children,r=e.className;return n.a.createElement(Ce.a,{component:Re.a,to:t,className:r},a)},Ie=Object(he.a)((function(e){return Object(ve.a)({root:{flexShrink:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:e.palette.background.default}})})),_e=function(e){var t=e.title,a=e.isAuthorized,r=e.onLogout,c=Ie();return n.a.createElement("div",{className:c.root},n.a.createElement(xe.a,{position:"static"},n.a.createElement(Se.a,null,n.a.createElement(ke.a,{variant:"h6",className:c.title},n.a.createElement(Ue,{to:"/",className:c.link},t)),a?n.a.createElement(Ne.a,{color:"inherit",onClick:r},"Logout"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ne.a,{color:"inherit"},n.a.createElement(Ue,{to:"/registration",className:c.link},"Register")),n.a.createElement(Ne.a,{color:"inherit"},n.a.createElement(Ue,{to:"/login",className:c.link},"Login"))))))},Ae=(a(193),Object(he.a)((function(){return Object(ve.a)({root:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})})),a(126)),Te=a(197),De=a(194),Le=a(123),qe=a.n(Le),We=Object(he.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.light},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorMessage:{color:e.palette.error.main}}})),ze=function(e){var t=e.title,a=e.buttonLabel,r=e.onSubmit,c=e.validationSchema,o=e.error,s=e.icon,i=We(),u=Object(Ae.a)({initialValues:{username:"",password:""},validationSchema:c,onSubmit:r});return n.a.createElement(ge.a,{component:"main",maxWidth:"xs"},n.a.createElement(Ee.a,null),n.a.createElement("div",{className:i.paper},n.a.createElement(Te.a,{className:i.avatar},s||n.a.createElement(qe.a,null)),n.a.createElement(ke.a,{component:"h1",variant:"h5"},t),n.a.createElement("form",{className:i.form,noValidate:!0,onSubmit:u.handleSubmit},n.a.createElement(De.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",name:"username",label:"Username",error:!!u.errors.username,helperText:u.errors.username,autoComplete:"username",onChange:u.handleChange,value:u.values.username,autoFocus:!0}),n.a.createElement(De.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",type:"password",name:"password",label:"Password",error:!!u.errors.password,helperText:u.errors.password,onChange:u.handleChange,value:u.values.password,autoComplete:"current-password"}),o&&n.a.createElement("div",{className:i.errorMessage},o),n.a.createElement(Ne.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},a))))},Fe=a(129),Ge=function(e){var t=e.children,a=Object(Fe.a)(e,["children"]),c=Object(s.e)(ie),o=Object(r.useCallback)((function(e){var a=e.location;return c?t:n.a.createElement(je.a,{to:{pathname:"/login",state:{from:a}}})}),[t,c]);return n.a.createElement(je.b,Object.assign({},a,{render:o}))},Pe=a(125),Je=a.n(Pe),Me=a(52),Be=Me.a().shape({username:Me.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Me.b().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/\S/,"Password can only contain non whitespace character.")}),Ve=function(){var e=Object(s.d)(),t=Object(s.e)(le),a=Object(r.useCallback)((function(t){e(function(e){return{type:O,payload:e}}(t))}),[e]);return n.a.createElement(ze,{icon:n.a.createElement(Je.a,null),title:"Registration",buttonLabel:"Register",onSubmit:a,validationSchema:Be,error:t})},He=Me.a().shape({username:Me.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Me.b().required("No password provided.")}),Ke=function(){var e=Object(s.d)(),t=Object(s.e)(le),a=Object(r.useCallback)((function(t){e(function(e){return{type:v,payload:e}}(t))}),[e]);return n.a.createElement(ze,{title:"Sign In",buttonLabel:"Login",onSubmit:a,error:t,validationSchema:He})},Qe=a(127),Xe=Object(he.a)((function(e){return Object(ve.a)({container:{marginTop:e.spacing(8)},buttonContainer:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(2)}})})),Ye=function(){var e=Object(s.d)(),t=Object(s.e)(ue),a=Object(r.useState)(t.description),c=Object(Qe.a)(a,2),o=c[0],i=c[1],u=Xe(),l=Object(r.useCallback)((function(a){a.preventDefault(),e(function(e){var t=e.username,a=e.description;return{type:x,payload:{username:t,description:a}}}(Object(d.a)({},t,{description:o})))}),[e,t,o]),m=Object(r.useCallback)((function(e){i(e.target.value)}),[]),p=Object(r.useCallback)((function(){var a;e((a=t.username,{type:y,payload:a}))}),[t,e]);return n.a.createElement("div",{className:u.container},n.a.createElement(Ee.a,null),n.a.createElement(ke.a,{variant:"h4"},t.username),n.a.createElement("form",{onSubmit:l},n.a.createElement(De.a,{label:"Description",id:"description",fullWidth:!0,multiline:!0,autoFocus:!0,onChange:m,value:o}),n.a.createElement("div",{className:u.buttonContainer},n.a.createElement(Ne.a,{type:"button",variant:"contained",color:"secondary",onClick:p},"Delete Profile"),n.a.createElement(Ne.a,{type:"submit",variant:"contained",color:"primary"},"Update Profile"))))},Ze=function(e){var t=e.appName,a=Object(s.d)(),c=Object(s.e)(ie),o=Object(r.useCallback)((function(){a({type:w})}),[a]);return n.a.createElement(b.a,{history:fe},n.a.createElement(_e,{title:t,isAuthorized:c,onLogout:o}),n.a.createElement(ye,null,n.a.createElement(je.d,null,n.a.createElement(je.b,{path:"/registration"},n.a.createElement(Ve,null)),n.a.createElement(je.b,{path:"/login"},n.a.createElement(Ke,null)),n.a.createElement(Ge,{path:"/"},n.a.createElement(Ye,null)))))},$e=function(e){var t=[Oe,Object(p.a)(fe)],a=u.applyMiddleware.apply(void 0,t),r=Object(m.composeWithDevTools)(a),n=pe(fe),c=Object(u.createStore)(n,e,r);return Oe.run(be),c}();o.a.render(n.a.createElement(s.a,{store:$e},n.a.createElement(Ze,{appName:"Test App"})),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.c1f8c60d.chunk.js.map