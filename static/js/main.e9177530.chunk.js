(this["webpackJsonpmemory-cards"]=this["webpackJsonpmemory-cards"]||[]).push([[0],{135:function(e,t,a){e.exports=a(150)},139:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),o=a.n(c),i=(a(139),a(18)),s=a(27),u=a(36),l=a(126),m=a(116),p=a(112),d=a(28),b=a(58),f=a(85),O="ADD_USER",j="ADD_USER_SUCCESS",h="ADD_USER_FAILURE",v="SIGN_IN_USER",E="SIGN_IN_USER_SUCCESS",g="SIGN_IN_USER_FAILURE",w="SIGN_OUT_USER",y="DELETE_USER",x="UPDATE_USER",S={user:null,isAuthorized:!1};var k=a(14),N=a.n(k),C=a(20),R=a(24);function U(e){return{type:j,payload:e}}function I(e){return{type:E,payload:e}}var _=a(74),A=a(79),T=function(){var e=localStorage.getItem("users");return e?JSON.parse(e):[]},D=function(e){localStorage.setItem("users",JSON.stringify(e))},L=function(e){var t=T();if(Object(A.find)(t,{username:e.username}))throw new Error("Already exist");return D([].concat(Object(_.a)(t),[e])),e},q=function(e){var t=T(),a=Object(A.find)(t,{username:e.username});if(!a)throw new Error("User does not exist");if(a.password!==e.password)throw new Error("Wrong password");return a},W=function(e){var t=T(),a=Object(A.findIndex)(t,{username:e});return D([].concat(Object(_.a)(t.slice(0,a)),Object(_.a)(t.slice(a+1)))),e},z=function(e){var t=e.username,a=e.description,r=T(),n=Object(A.findIndex)(r,{username:t});return D([].concat(Object(_.a)(r.slice(0,n)),[Object(d.a)({},r[n],{username:t,description:a})],Object(_.a)(r.slice(n+1)))),t},F=N.a.mark(Q),G=N.a.mark(X),P=N.a.mark(Y),J=N.a.mark(Z),M=N.a.mark($),B=N.a.mark(ee),V=N.a.mark(te),H=N.a.mark(ae),K=N.a.mark(re);function Q(e){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)(L,e.payload);case 3:return t=a.sent,a.next=6,Object(C.c)(U(t));case 6:return a.next=8,Object(C.c)(Object(R.d)("/"));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(C.c)((r=a.t0.message,{type:h,payload:r}));case 14:case"end":return a.stop()}var r}),F,null,[[0,10]])}function X(e){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)(q,e.payload);case 3:return t=a.sent,a.next=6,Object(C.c)(I(t));case 6:return a.next=8,Object(C.c)(Object(R.d)("/"));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(C.c)((r=a.t0.message,{type:g,payload:r}));case 14:case"end":return a.stop()}var r}),G,null,[[0,10]])}function Y(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(W,e.payload);case 2:case"end":return t.stop()}}),P)}function Z(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(z,e.payload);case 2:case"end":return t.stop()}}),J)}function $(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(O,Q);case 2:case"end":return e.stop()}}),M)}function ee(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(v,X);case 2:case"end":return e.stop()}}),B)}function te(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(y,Y);case 2:case"end":return e.stop()}}),V)}function ae(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(x,Z);case 2:case"end":return e.stop()}}),H)}function re(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([$(),ee(),te(),ae()]);case 2:case"end":return e.stop()}}),K)}var ne=a(53),ce=Object(ne.get)("userState"),oe=Object(ne.flow)(ce,Object(ne.get)("isAuthorized")),ie=Object(ne.flow)(ce,Object(ne.get)("user")),se=Object(ne.flow)(ce,Object(ne.get)("error")),ue=Object(f.a)({},"userState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case O:return Object(d.a)({},e);case E:case j:return Object(d.a)({},e,{user:t.payload,isAuthorized:!0,error:null});case g:case h:return Object(d.a)({},e,{isAuthorized:!1,user:null,error:t.payload});case w:case y:return Object(d.a)({},e,{isAuthorized:!1,user:null});case x:return Object(d.a)({},e,{user:Object(d.a)({},e.user,{},t.payload)});default:return e}})),le=function(e){return Object(u.combineReducers)(Object(d.a)({router:Object(b.b)(e)},ue))},me=N.a.mark(pe);function pe(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([re()]);case 2:case"end":return e.stop()}}),me)}var de=Object(s.b)(),be=Object(l.a)();var fe=a(33),Oe=a(118),je=a(194),he=a(183),ve=a(184),Ee=Object(Oe.a)((function(){return Object(je.a)({container:{flexGrow:1,overflow:"auto"}})})),ge=function(e){var t=e.children,a=Ee();return n.a.createElement(r.Fragment,null,n.a.createElement(he.a,null),n.a.createElement("div",{className:a.container},n.a.createElement(ve.a,{maxWidth:"md"},t)))},we=a(187),ye=a(188),xe=a(151),Se=a(191),ke=a(186),Ne=a(83),Ce=function(e){var t=e.to,a=e.children,r=e.className;return n.a.createElement(ke.a,{component:Ne.a,to:t,className:r},a)},Re=Object(Oe.a)((function(e){return Object(je.a)({root:{flexShrink:0},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:e.palette.background.default}})})),Ue=function(e){var t=e.title,a=e.isAuthorized,r=e.onLogout,c=Re();return n.a.createElement("div",{className:c.root},n.a.createElement(we.a,{position:"static"},n.a.createElement(ye.a,null,n.a.createElement(xe.a,{variant:"h6",className:c.title},n.a.createElement(Ce,{to:"/",className:c.link},t)),a?n.a.createElement(Se.a,{color:"inherit",onClick:r},"Logout"):n.a.createElement(n.a.Fragment,null,n.a.createElement(Se.a,{color:"inherit"},n.a.createElement(Ce,{to:"/registration",className:c.link},"Register")),n.a.createElement(Se.a,{color:"inherit"},n.a.createElement(Ce,{to:"/login",className:c.link},"Login"))))))},Ie=(a(189),Object(Oe.a)((function(){return Object(je.a)({root:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})})),a(124)),_e=a(193),Ae=a(190),Te=a(121),De=a.n(Te),Le=Object(Oe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.light},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorMessage:{color:e.palette.error.main}}})),qe=function(e){var t=e.title,a=e.buttonLabel,r=e.onSubmit,c=e.validationSchema,o=e.error,i=e.icon,s=Le(),u=Object(Ie.a)({initialValues:{username:"",password:""},validationSchema:c,onSubmit:r});return n.a.createElement(ve.a,{component:"main",maxWidth:"xs"},n.a.createElement(he.a,null),n.a.createElement("div",{className:s.paper},n.a.createElement(_e.a,{className:s.avatar},i||n.a.createElement(De.a,null)),n.a.createElement(xe.a,{component:"h1",variant:"h5"},t),n.a.createElement("form",{className:s.form,noValidate:!0,onSubmit:u.handleSubmit},n.a.createElement(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",name:"username",label:"Username",error:!!u.errors.username,helperText:u.errors.username,autoComplete:"username",onChange:u.handleChange,value:u.values.username,autoFocus:!0}),n.a.createElement(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",type:"password",name:"password",label:"Password",error:!!u.errors.password,helperText:u.errors.password,onChange:u.handleChange,value:u.values.password,autoComplete:"current-password"}),o&&n.a.createElement("div",{className:s.errorMessage},o),n.a.createElement(Se.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit},a))))},We=a(127),ze=function(e){var t=e.children,a=Object(We.a)(e,["children"]),c=Object(i.e)(oe),o=Object(r.useCallback)((function(e){var a=e.location;return c?t:n.a.createElement(fe.a,{to:{pathname:"/login",state:{from:a}}})}),[t,c]);return n.a.createElement(fe.b,Object.assign({},a,{render:o}))},Fe=a(123),Ge=a.n(Fe),Pe=a(52),Je=Pe.a().shape({username:Pe.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Pe.b().required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches(/\S/,"Password can only contain non whitespace character.")}),Me=function(){var e=Object(i.d)(),t=Object(i.e)(se),a=Object(r.useCallback)((function(t){e(function(e){return{type:O,payload:e}}(t))}),[e]);return n.a.createElement(qe,{icon:n.a.createElement(Ge.a,null),title:"Registration",buttonLabel:"Register",onSubmit:a,validationSchema:Je,error:t})},Be=Pe.a().shape({username:Pe.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Pe.b().required("No password provided.")}),Ve=function(){var e=Object(i.d)(),t=Object(i.e)(se),a=Object(r.useCallback)((function(t){e(function(e){return{type:v,payload:e}}(t))}),[e]);return n.a.createElement(qe,{title:"Sign In",buttonLabel:"Login",onSubmit:a,error:t,validationSchema:Be})},He=a(125),Ke=Object(Oe.a)((function(e){return Object(je.a)({container:{marginTop:e.spacing(8)},buttonContainer:{display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(2)}})})),Qe=function(){var e=Object(i.d)(),t=Object(i.e)(ie),a=Object(r.useState)(t.description),c=Object(He.a)(a,2),o=c[0],s=c[1],u=Ke(),l=Object(r.useCallback)((function(a){a.preventDefault(),e(function(e){var t=e.username,a=e.description;return{type:x,payload:{username:t,description:a}}}(Object(d.a)({},t,{description:o})))}),[e,t,o]),m=Object(r.useCallback)((function(e){s(e.target.value)}),[]),p=Object(r.useCallback)((function(){var a;e((a=t.username,{type:y,payload:a}))}),[t,e]);return n.a.createElement("div",{className:u.container},n.a.createElement(he.a,null),n.a.createElement(xe.a,{variant:"h4"},t.username),n.a.createElement("form",{onSubmit:l},n.a.createElement(Ae.a,{label:"Description",id:"description",fullWidth:!0,multiline:!0,autoFocus:!0,onChange:m,value:o}),n.a.createElement("div",{className:u.buttonContainer},n.a.createElement(Se.a,{type:"button",variant:"contained",color:"secondary",onClick:p},"Delete Profile"),n.a.createElement(Se.a,{type:"submit",variant:"contained",color:"primary"},"Update Profile"))))},Xe=function(e){var t=e.appName,a=Object(i.d)(),c=Object(i.e)(oe),o=Object(r.useCallback)((function(){a({type:w})}),[a]);return n.a.createElement(b.a,{history:de},n.a.createElement(Ue,{title:t,isAuthorized:c,onLogout:o}),n.a.createElement(ge,null,n.a.createElement(fe.d,null,n.a.createElement(fe.b,{path:"/registration"},n.a.createElement(Me,null)),n.a.createElement(fe.b,{path:"/login"},n.a.createElement(Ve,null)),n.a.createElement(ze,{path:"/"},n.a.createElement(Qe,null)))))},Ye=function(e){var t=[be,Object(p.a)(de)],a=u.applyMiddleware.apply(void 0,t),r=Object(m.composeWithDevTools)(a),n=le(de),c=Object(u.createStore)(n,e,r);return be.run(pe),c}();o.a.render(n.a.createElement(i.a,{store:Ye},n.a.createElement(Xe,{appName:"Test App"})),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.e9177530.chunk.js.map